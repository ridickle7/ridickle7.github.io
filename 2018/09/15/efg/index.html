<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>2018 프론트앤드 스터디 2주차 | ridickle한 일상</title>
  <meta name="description" content="때로는 우스꽝스럽게, 하지만 재미있게" />
  <meta name="keywords" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="shortcut icon" href="/">
  <link rel="alternate" href="/atom.xml" title="ridickle한 일상">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="2주차일시 : 2018.09.22 (토)장소 : 할리스커피 신논현역점시간 : 10:00 ~ 12:00참석자 : 동현, 상우, 원호, 승현(new) 주 진행내용  자기소개 (승현) javascript crawling 실행 Context / scope  javascript crawling (크로울링) 웹 스크래핑 (Web Scraping) 웹 사이트들에서 원하">
<meta name="keywords" content="javascript">
<meta property="og:type" content="article">
<meta property="og:title" content="2018 프론트앤드 스터디 2주차">
<meta property="og:url" content="http://https://ridickle7.github.io/2018/09/15/efg/index.html">
<meta property="og:site_name" content="ridickle한 일상">
<meta property="og:description" content="2주차일시 : 2018.09.22 (토)장소 : 할리스커피 신논현역점시간 : 10:00 ~ 12:00참석자 : 동현, 상우, 원호, 승현(new) 주 진행내용  자기소개 (승현) javascript crawling 실행 Context / scope  javascript crawling (크로울링) 웹 스크래핑 (Web Scraping) 웹 사이트들에서 원하">
<meta property="og:locale" content="ko">
<meta property="og:updated_time" content="2018-10-15T09:42:53.831Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2018 프론트앤드 스터디 2주차">
<meta name="twitter:description" content="2주차일시 : 2018.09.22 (토)장소 : 할리스커피 신논현역점시간 : 10:00 ~ 12:00참석자 : 동현, 상우, 원호, 승현(new) 주 진행내용  자기소개 (승현) javascript crawling 실행 Context / scope  javascript crawling (크로울링) 웹 스크래핑 (Web Scraping) 웹 사이트들에서 원하">
    
  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href='//cdn.bootcss.com/node-waves/0.7.5/waves.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
</head>

<body>
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>


  <script>setLoadingBarProgress(20)</script> 
  <header class="l_header">
	<div class='wrapper'>
		<div class="nav-main container container--flex">
			<a class="logo flat-box" href='/' >
				ridickle한 일상
			</a>
			<div class='menu'>
				<ul class='h-list'>
					
						<li>
							<a class='flat-box nav-home' href='/'>
								Home
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-archives' href='/archives'>
								Archives
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-gallery' href='https://github.com/ridickle7'>
								Gallery
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-about' href='/about'>
								About
							</a>
						</li>
					
				</ul>
				<div class='underline'></div>
			</div>
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<span class="icon icon-search"></span>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a href='javascript:void(0)'><span class="icon icon-search flat-box"></span></a></li>
				
				<li class='s-menu'><a href='javascript:void(0)'><span class="icon icon-menu flat-box"></span></a></li>
			</ul>
		</div>
		
		<div class='nav-sub container container--flex'>
			<a class="logo" class="flat-box" href='javascript:void(0)'>
				Word of Forks
			</a>

			<ul class='switcher h-list'>
				<li class='s-comment'><a href='javascript:void(0)'><span class="icon icon-chat_bubble_outline flat-box"></span></a></li>
				<li class='s-top'><a href='javascript:void(0)'><span class="icon icon-arrow_upward flat-box"></span></a></li>
				<li class='s-toc'><a href='javascript:void(0)'><span class="icon icon-format_list_numbered flat-box"></span></a></li>
			</ul>
		</div>
	</div>
</header>
<aside class="menu-phone">
	<nav>
		
			<a href="/" class="nav-home nav">
				Home
			</a>
		
			<a href="/archives" class="nav-archives nav">
				Archives
			</a>
		
			<a href="https://github.com/ridickle7" class="nav-gallery nav">
				Gallery
			</a>
		
			<a href="/about" class="nav-about nav">
				About
			</a>
		
	</nav>
</aside>

    <script>setLoadingBarProgress(40);</script>
  <div class="l_body">
    <div class='container clearfix'>
      <div class='l_main'>
        <article id="post-efg"
  class="post white-box article-type-post"
  itemscope itemprop="blogPost">
	<section class='meta'>
	<h2 class="title">
  	<a href="/2018/09/15/efg/">
    	2018 프론트앤드 스터디 2주차
    </a>
  </h2>
	<time>
	  9월 15, 2018
	</time>
	
    
    <div class='cats'>
        <a href="/categories/web/">web</a>
    </div>

	</section>
	
		<section class="toc-wrapper"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2주차"><span class="toc-number">1.</span> <span class="toc-text">2주차</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#javascript-crawling-크로울링"><span class="toc-number">1.1.</span> <span class="toc-text">javascript crawling (크로울링)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-request"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. request</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-cheerio"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. cheerio</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-iconv"><span class="toc-number">1.1.3.</span> <span class="toc-text">3. iconv</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#실행-Context-Scope"><span class="toc-number">1.2.</span> <span class="toc-text">실행 Context / Scope</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Scope"><span class="toc-number">1.2.1.</span> <span class="toc-text">Scope</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scope-Chain"><span class="toc-number">1.2.2.</span> <span class="toc-text">Scope Chain</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Global-console"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">Global console</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Inner-console"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">Inner console</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Outer-console"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">Outer console</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#lexical-Scope"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">lexical Scope</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#실행-Context"><span class="toc-number">1.3.</span> <span class="toc-text">실행 Context</span></a></li></ol></li></ol></section>
	
	<section class="article typo">
  	<div class="article-entry" itemprop="articleBody">
    	<h2 id="2주차"><a href="#2주차" class="headerlink" title="2주차"></a>2주차</h2><p>일시 : 2018.09.22 (토)<br>장소 : 할리스커피 신논현역점<br>시간 : 10:00 ~ 12:00<br>참석자 : 동현, 상우, 원호, 승현(new)</p>
<p>주 진행내용</p>
<ul>
<li>자기소개 (승현)</li>
<li>javascript crawling</li>
<li>실행 Context / scope</li>
</ul>
<h3 id="javascript-crawling-크로울링"><a href="#javascript-crawling-크로울링" class="headerlink" title="javascript crawling (크로울링)"></a>javascript crawling (크로울링)</h3><ul>
<li>웹 스크래핑 (Web Scraping)</li>
<li>웹 사이트들에서 원하는 정보를 추출하는 것을 의미</li>
<li>HTML을 분석하여 원하는 정보를 추출함</li>
</ul>
<p>사용할 라이브러리</p>
<ol>
<li>request</li>
<li>cheerio</li>
<li>iconv -&gt; 인코딩 변환 시 사용</li>
</ol>
<h4 id="1-request"><a href="#1-request" class="headerlink" title="1. request"></a>1. request</h4><ul>
<li><p>웹 페이지의 HTML문서를 그대로 가져오기 위해 사용한다</p>
</li>
<li><p>위와 같은 형식으로 HTML 문서 데이터를 가져올 수 있다.</p>
</li>
</ul>
<h4 id="2-cheerio"><a href="#2-cheerio" class="headerlink" title="2. cheerio"></a>2. cheerio</h4><ul>
<li>HTML 문서를 parsing하여 필요한 정보만을 가져올 수 있도록 돕는 모듈이다. html 특정 요소에 대한 정보를 가져올 수 있다.  </li>
</ul>
<p>before / after 로그  </p>
<p>html을 로드한 후, text 설정, class 설정 가능.</p>
<p>위와 같이 class 기반으로 text value를 불러올 수 있으며, 수정된 내용에 대해서도 확인 가능</p>
<h4 id="3-iconv"><a href="#3-iconv" class="headerlink" title="3. iconv"></a>3. iconv</h4><p>1번에서 대략 알 수 있었겠지만, 인코딩 타입이 다른 경우 깨짐글자가 발생 한다. iconv는 <strong>문자열의 인코딩을 변환</strong>시켜주는 모듈이다.  </p>
<p>활용 예제 (1, 2, 3이 짬뽕되어있는 것 같지만, 조용히 넘어간다.)<br>네이버 영화 순위 페이지(url)의 인코딩 방식은 MS949이다.<br>iconv는 MS949와 비슷한 CP949 지원하는데 아래 예제 같이 인코딩 방식을 수정할 수 있다.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// CP949(MS949)의 내용을 utf-8로 변환</span><br><span class="line">const iconv = new Iconv(<span class="string">'CP949'</span>, <span class="string">'utf-8//translit//ignore'</span>)</span><br></pre></td></tr></table></figure>
<p>raw 데이터와, 인코딩을 수정한 데이터를 비교해보면…<br>굳이 설명을 더 할 필요는 없을것이라 생각한다.</p>
<p>참고로 Iconv 두번째 파라미터는, 인코딩할 수 없는 데이터의 경우에 대한 처리 값도 포함되어 있다. </p>
<ul>
<li>translit : 대체 가능한 문자가 있는 경우 해당 문자로 대체함</li>
<li>ignore : 지원하지 않는 문자의 경우 무시함</li>
</ul>
<p>처리를 안해줄 시 EILSEQ 에러가 발생한다.</p>
<h3 id="실행-Context-Scope"><a href="#실행-Context-Scope" class="headerlink" title="실행 Context / Scope"></a>실행 Context / Scope</h3><p>먼저 scope를 이야기해야 실행 Context를 이해하기 쉬워진다.</p>
<h4 id="Scope"><a href="#Scope" class="headerlink" title="Scope"></a>Scope</h4><p>전역과 지역에 대해서는 아래 코드로 설명이 가능할 것 같다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> x = <span class="string">'global'</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">abcd</span></span>()&#123;</span><br><span class="line">    <span class="built_in">let</span> x = <span class="string">'local'</span></span><br><span class="line">    console.log(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>우리가 프로그래밍에서 배운 그 전역(global), 지역(local) 이 맞다.<br>(참고로 abcd()를 실행하면 (local)이 나온다.)<br>지역(함수) 내에 해당 변수가 없을 시, 전역 scope로 넘어가 해당 값을 찾게 된다.</p>
<h4 id="Scope-Chain"><a href="#Scope-Chain" class="headerlink" title="Scope Chain"></a>Scope Chain</h4><p>해당 지역내에 변수가 없는 경우, 점점 한 단위씩 scope를 넓혀가며 값을 찾는다. 이렇게 꼬리를 물며 값을 외부로 찾아나가는 것을 Scope Chain이라 한다.</p>
<p>3개의 console 예제로 한번 파악해보자.</p>
<p>예제 코드 (scope chain example)</p>
<h5 id="Global-console"><a href="#Global-console" class="headerlink" title="Global console"></a>Global console</h5><ol>
<li>전역 scope 에서 name 값을 찾는다. (바로 찾았다. 그러므로 여기서는 ‘zero’ 값을 찍는다.)</li>
</ol>
<h5 id="Inner-console"><a href="#Inner-console" class="headerlink" title="Inner console"></a>Inner console</h5><ol>
<li><p>inner 함수 scope 내에서 name 값을 찾는다. (바로 찾았다. 그러므로 여기서는 ‘nero’ 값을 찍는다.)</p>
<p>만약 name값이 없었다면 outer scope -&gt; global scope로 계속 나아가며 값을 찾았을 것이다. </p>
<p>이제 outer가 문제다.</p>
</li>
</ol>
<h5 id="Outer-console"><a href="#Outer-console" class="headerlink" title="Outer console"></a>Outer console</h5><ol>
<li>먼저 outer 함수 scope 내에서 찾는다.</li>
<li>outer scope 에 없으므로 한 단계 외부 scope를 탐색한다. (여기서는 전역)<br>1번째 줄의 zero라는 값을 찾았으므로 ‘zero’ 값을 리턴한다.</li>
</ol>
<p>여기서 중요한 것은 1번 과정에서 inner() 함수를 탐색하지 않는다는 것이다. <strong>외부로 탐색을 진행한다</strong> 는 것을 주의깊게 기억해야한다.</p>
<h5 id="lexical-Scope"><a href="#lexical-Scope" class="headerlink" title="lexical Scope"></a>lexical Scope</h5><p>Scope는 함수를 호출이 아닌 선언할 때 생긴다는 개념이다. 아래 하나의 예제를 더 보자</p>
<p>만약 호출할 때 scope가 생겼다면, wrapper scope내에 log scope가 생기고 scope chain에 의해 nero를 출력했을 것이다. 하지만 log 함수 선언 범위에서 외부 scope를 탐색하기 때문에 전역 범위에 선언된 name 인 zero를 출력하게 된다.</p>
<h3 id="실행-Context"><a href="#실행-Context" class="headerlink" title="실행 Context"></a>실행 Context</h3><ul>
<li>javascript가 실행되는 환경 및 정보</li>
<li><p>javascript 내 Call Stack에서 실행 Context를 관리<br>(Callback Stack에 대한 내용은 javascript 원리 이해 참고)</p>
</li>
<li><p>처음에 전역 컨텍스트 하나 생성 후, 함수 호출(!!!!!) 시마다 컨텍스트가 생김</p>
</li>
<li><p>컨텍스트 생성 시, 변수객체(arguments, variable), Scope chain, this 생성</p>
</li>
<li><p>함수실행 시, 사용되는 변수들은 먼저 변수객체(활성화객체)에서 값을 찾고, </p>
<p>없을 시 Scope chain 에 따라 변수를 찾음</p>
</li>
<li><p>함수실행이 끝나면 해당 컨텍스트는  사라짐 (클로저 예외)</p>
</li>
<li><p>페이지 종료 시, 전역 컨텍스트 또한 사라짐</p>
</li>
</ul>
<p>위에 여러가지 특징들이 적혀있는데 아래 코드를 통해 순차적으로 보면 이해가 될 것이다.</p>
<p>주석에 번호가 적힌대로 코드가 실행된다.</p>
<ol>
<li>전역 컨텍스트 생성</li>
</ol>
<p>(1) ~ (6) 까지의 과정이 왼쪽과 같이 진행된다.</p>
<p>(2), (4)는 wow, say라는 변수가 선언되는 과정</p>
<p>(3), (5)는 각 변수에 함수 변수값이 대입되는 과정</p>
<ul>
<li><p>javascript는 함수형 언어!!</p>
</li>
<li><p>hoisting으로 인해 선언과 동시에 대입 진행</p>
</li>
</ul>
<ol start="2">
<li>say() 실행</li>
</ol>
<p>(7) 실행 후 (8) ~ (10) 까지의 과정이다.</p>
<p>(8)로 인해 name 값이 선언 및 초기화되고</p>
<p>(9)에서 console.log(name)을 실행한다.</p>
<ul>
<li><p>name은 변수객체(활성화객체)에서 찾은 값을 </p>
<p>사용한다.</p>
</li>
</ul>
<p>(10)에서 wow(‘hello’)를 실행한다.</p>
<ul>
<li><p>wow가 첫번째 유효범위 (‘say’)에서 없으므로 </p>
<p>다음 유효범위 (‘global’) 에서 찾는다.</p>
</li>
<li><p>전역 범위의 wow 값을 활용한다.</p>
</li>
</ul>
<ol start="3">
<li>way(‘hello’) 실행</li>
</ol>
<p>(10) 실행 후의 과정이다.</p>
<p>(11) console.log(word + ‘ ‘ + name)을 실행한다</p>
<ul>
<li><p>word는 변수객체(활성화객체)내 값을 가져온다.</p>
</li>
<li><p>name은 첫번째 유효범위 (‘wow’)에서 없으므로</p>
<p>다음 유효범위 (‘global’) 에서 찾는다.</p>
</li>
<li><p>전역범위의 name 값을 활용한다.</p>
</li>
</ul>
<p>스택상에서는 이렇게 될 것이다.</p>
<p>여기까지가 실행 컨텍스트 이야기이다.</p>
<p>이것도 도식상으로 설명할 수 있으면, 실행 컨텍스트는 다 이해했다고 보아도 무방할듯 하다.</p>
<p>참고</p>
<p>크로울링</p>
<ul>
<li><p>[Node.js] 크롤링 DOM parsing ( request, cheerio, iconv 모듈 )</p>
<p> <a href="http://victorydntmd.tistory.com/94" target="_blank" rel="noopener">http://victorydntmd.tistory.com/94</a></p>
</li>
<li><p>자바스크립트로 크롤링 하기 1</p>
<p> <a href="https://github.com/DongHyunKims/javascript-notes/tree/master/notes/daily/crawling" target="_blank" rel="noopener">https://github.com/DongHyunKims/javascript-notes/tree/master/notes/daily/crawling</a>   </p>
</li>
</ul>
<p>실행 Context</p>
<ul>
<li><p>zeroCho 함수의 범위 (scope)</p>
<p> <a href="https://www.zerocho.com/category/Javascript/post/5740531574288ebc5f2ba97e" target="_blank" rel="noopener">https://www.zerocho.com/category/Javascript/post/5740531574288ebc5f2ba97e</a></p>
</li>
<li><p>zeroCho 실행 컨텍스트</p>
<p> <a href="https://www.zerocho.com/category/JavaScript/post/5741d96d094da4986bc950a0" target="_blank" rel="noopener">https://www.zerocho.com/category/JavaScript/post/5741d96d094da4986bc950a0</a></p>
</li>
</ul>

  	</div>
	  
	  <div class="article-tags tags">
      
        <a href="/tags/javascript/">javascript</a>
      
	  </div>
    
		
	
		<div class="art-item-footer">
				
					<span class="art-item-left"><i class="icon icon-chevron-thin-left"></i>prev：<a href="/2018/09/15/2018 프론트앤드 스터디 1주차/" rel="prev"  title="2018 프론트앤드 스터디 1주차">
						2018 프론트앤드 스터디 1주차 
					</a></span>
				
				
		</div>
	
	</section>
	
		<section id="comments">
			<div id="disqus_thread"></div>
		</section>
	
</article>
<script>
	window.subData = {
		title: '2018 프론트앤드 스터디 2주차',
		tools: true
	}
</script>

      </div>
      <aside class='l_side'>
        
  <section class='m_widget about'>

<img class='avatar waves-image' src='/images/avatar.png' />

<div class='header'>ridickle</div>
<div class='content'>
<div class='desc'>때로는 우스꽝스럽게<br>하지만 재미있게</div>
</div>
</section>

  <section class='m_widget links'>
<div class='header'>Links</div>
<div class='content'>
    <ul class="entry">
    
    </ul>
</div>
</section>

  <section class='m_widget categories'>
<div class='header'>Categories</div>
<div class='content'>
    
    <ul class="entry">
    
        <li><a class="flat-box" href="/categories/web/"><div class='name'>web</div><div class='badget'>2</div></a></li>
    
    </ul>
    
</div>
</section>

  
<div class="m_widget tagcloud">
    <div class="header">Tags</div>
    <div class='content'>
        <a href="/tags/javascript/" style="font-size: 14px; color: #808080">javascript</a>
    </div>
</div>



      </aside>
      <script>setLoadingBarProgress(60);</script>
    </div>
  </div>
  <footer id="footer" class="clearfix">

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/ridickle7" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
  </div>
  
  <div>Theme <a href='https://github.com/stkevintan/hexo-theme-material-flow' class="codename">MaterialFlow</a> designed by <a href="http://keyin.me/" target="_blank">Kevin Tan</a>.</div>
  
</footer>


  <script>setLoadingBarProgress(80);</script>
  
<script>
  var disqus_shortname = 'ridickle';
  
  var disqus_url = 'http://https://ridickle7.github.io/2018/09/15/efg/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src='//cdn.bootcss.com/node-waves/0.7.5/waves.min.js'></script>
<script src="//cdn.bootcss.com/scrollReveal.js/3.3.2/scrollreveal.min.js"></script>
<script src="/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
  var ROOT = "/"||"/";
  if(!ROOT.endsWith('/'))ROOT += '/';
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
</body>
</html>
